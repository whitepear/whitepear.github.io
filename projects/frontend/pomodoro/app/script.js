function beep(){audio.play()}function timeWork(){userWork=workMins,userBreak=breakMins,workMins=60*workMins,breakMins=60*breakMins,workMins--,breakMins--,$("#msgSpace").hide().html("Session").fadeIn(500),updateTime=setInterval(function(){if(1>workMins&&!$("#pause").hasClass("paused")){$("#timeMinDisp").html(Math.floor(workMins/60)),10>workMins%60?$("#timeSecDisp").html("0"+workMins%60):$("#timeSecDisp").html(workMins%60);var a=100-100*(workMins/(60*userWork));$("#loadBar").attr("style","background:linear-gradient(to top, #66CD00 "+a+"%, transparent "+a+"%, transparent 100%);"),clearInterval(updateTime),beep(),$("#msgSpace").hide().html("Break").fadeIn(500),$("#timeMinDisp").html(userBreak),$("#timeSecDisp").html("00"),updateBreak=setInterval(function(){if(1>breakMins&&!$("#pause").hasClass("paused")){var a=100-100*(breakMins/(60*userBreak));$("#loadBar").attr("style","background:linear-gradient(to top, #7AC5CD "+a+"%, transparent "+a+"%, transparent 100%);"),workMins=userWork,$("#timeMinDisp").html(workMins),$("#timeSecDisp").html("00"),breakMins=userBreak,clearInterval(updateBreak),beep(),cycles++,$("#cycleSpace").hide().html("No. of work/break cycles completed: "+cycles).fadeIn(500),timeWork()}else if($("#pause").hasClass("paused"))console.log("Break time is currently paused");else{$("#timeMinDisp").html(Math.floor(breakMins/60)),10>breakMins%60?$("#timeSecDisp").html("0"+breakMins%60):$("#timeSecDisp").html(breakMins%60);var a=100-100*(breakMins/(60*userBreak));$("#loadBar").attr("style","background:linear-gradient(to top, #7AC5CD "+a+"%, transparent "+a+"%, transparent 100%);"),$prevMsg=$("#msgSpace").html(),breakMins--}},1e3)}else if($("#pause").hasClass("paused"))console.log("Interval is currently paused");else{$("#timeMinDisp").html(Math.floor(workMins/60)),10>workMins%60?$("#timeSecDisp").html("0"+workMins%60):$("#timeSecDisp").html(workMins%60);var a=100-100*(workMins/(60*userWork));$("#loadBar").attr("style","background:linear-gradient(to top, #66CD00 "+a+"%, transparent "+a+"%, transparent 100%);"),$prevMsg=$("#msgSpace").html(),workMins--}},1e3)}var running=!1,cycles=0,workMins=25;$("#workMinDisp").html(workMins),$("#pause").prop("disabled",!0).animate({opacity:.4}),$("#decreaser").click(function(){1===workMins?workMins=60:workMins-=1,$("#workMinDisp").html(workMins)}),$("#increaser").click(function(){60===workMins?workMins=1:workMins+=1,$("#workMinDisp").html(workMins)});var breakMins=5;$("#breakMinDisp").html(breakMins),$("#breakDecreaser").click(function(){1===breakMins?breakMins=60:breakMins-=1,$("#breakMinDisp").html(breakMins)}),$("#breakIncreaser").click(function(){60===breakMins?breakMins=1:breakMins+=1,$("#breakMinDisp").html(breakMins)});var audio=new Audio("http://soundbible.com/grab.php?id=1599&type=mp3"),updateTime,updateBreak,userWork,userBreak,$prevMsg;$("#start").click(function(){running===!1?(running=!0,$(".timeSetRow").animate({opacity:.4}),$("#pause").animate({opacity:1}),$("#pause").prop("disabled",!1),$("#increaser").prop("disabled",!0),$("#decreaser").prop("disabled",!0),$("#breakIncreaser").prop("disabled",!0),$("#breakDecreaser").prop("disabled",!0),$("#msgSpace").hide(),$("#loadBar").attr("style","background: transparent"),$("#timeMinDisp").html(workMins),$("#timeSecDisp").html("00"),$("#start").text("Stop"),timeWork()):(running=!1,$(".timeSetRow").animate({opacity:1}),$("#pause").animate({opacity:.4}),$("#pause").prop("disabled",!0),$("#increaser").prop("disabled",!1),$("#decreaser").prop("disabled",!1),$("#breakIncreaser").prop("disabled",!1),$("#breakDecreaser").prop("disabled",!1),$("#msgSpace").hide().html("Set a time.").fadeIn(500),$("#loadBar").attr("style","background: transparent;"),$("#start").text("Start"),clearInterval(updateTime),clearInterval(updateBreak),workMins=userWork,$("#timeMinDisp").hide().html("--").fadeIn(500),$("#timeSecDisp").hide().html("--").fadeIn(500),breakMins=userBreak)}),$("#pause").click(function(){$("#pause").hasClass("paused")?($("#pause").removeClass("paused"),$("#start").prop("disabled",!1),$("#start").animate({opacity:1}),$("#pause").text("Pause"),$("#msgSpace").hide(),$("#msgSpace").html($prevMsg),$("#msgSpace").fadeIn(500)):($("#msgSpace").html("Paused"),$("#start").prop("disabled",!0),$("#start").animate({opacity:.4}),$("#pause").addClass("paused"),$("#pause").text("Unpause"))});