function firstMove(a){$square.css("pointer-events","none"),$("#"+a).text(computerMark),computerMoves.push(a),unavailableMoves.push(a);var b=availableMoves.indexOf(a);availableMoves.splice(b,1),$square.css("pointer-events","auto");for(var c=0;c<unavailableMoves.length;c++)$("#"+unavailableMoves[c]).css("pointer-events","none")}function userWinCheck(){for(var a=0;a<winConditions.length;a++){var b=winConditions[a].every(function(b,c){return userMoves.indexOf(winConditions[a][c])>-1});if(b){userWon=!0,$("#userWinModal").modal(modalOptions),winState=!0;break}}0==availableMoves.length&&0==winState&&(noneWon=!0,$("#tieModal").modal(modalOptions))}function computerMoveUpdate(a){computerMoves.push(a),unavailableMoves.push(a);var b=availableMoves.indexOf(a);availableMoves.splice(b,1)}function computerWinTake(){for(var a,b,c,d=0;d<winConditions.length;d++)if(a=computerMoves.indexOf(winConditions[d][0]),b=computerMoves.indexOf(winConditions[d][1]),c=computerMoves.indexOf(winConditions[d][2]),a>-1&&b>-1){if(availableMoves.indexOf(winConditions[d][2])>-1){$("#"+winConditions[d][2]).text(computerMark),moveMade=!0,computerMoveUpdate(winConditions[d][2]);break}}else if(a>-1&&c>-1){if(availableMoves.indexOf(winConditions[d][1])>-1){$("#"+winConditions[d][1]).text(computerMark),moveMade=!0,computerMoveUpdate(winConditions[d][1]);break}}else if(b>-1&&c>-1&&availableMoves.indexOf(winConditions[d][0])>-1){$("#"+winConditions[d][0]).text(computerMark),moveMade=!0,computerMoveUpdate(winConditions[d][0]);break}}function computerMoveBlock(){for(var a,b,c,d=0;d<winConditions.length;d++){a=winConditions[d][0],b=winConditions[d][1],c=winConditions[d][2];var e=userMoves.indexOf(a),f=userMoves.indexOf(b),g=userMoves.indexOf(c);if(e>-1&&f>-1){if(availableMoves.indexOf(c)>-1){$("#"+c).text(computerMark),moveMade=!0,computerMoveUpdate(c);break}}else if(e>-1&&g>-1){if(availableMoves.indexOf(b)>-1){$("#"+b).text(computerMark),moveMade=!0,computerMoveUpdate(b);break}}else if(f>-1&&g>-1&&availableMoves.indexOf(a)>-1){$("#"+a).text(computerMark),moveMade=!0,computerMoveUpdate(a);break}}}function computerWinCheck(){for(var a=0;a<winConditions.length;a++){var b=winConditions[a].every(function(b,c){return computerMoves.indexOf(winConditions[a][c])>-1});if(b){computerWon=!0,$("#computerWinModal").modal(modalOptions),winState=!0;break}}0==availableMoves.length&&0==winState&&(noneWon=!0,$("#tieModal").modal(modalOptions))}var userMark,computerMark,startingMove=Math.random()<.5?"5":"7",$square=$(".col-xs-4"),availableMoves=["1","2","3","4","5","6","7","8","9"],unavailableMoves=[],computerMoves=[],userMoves=[],winConditions=[["1","2","3"],["4","5","6"],["7","8","9"],["1","4","7"],["2","5","8"],["3","6","9"],["1","5","9"],["3","5","7"]],modalOptions={backdrop:"static",keyboard:!1},moveMade=!1,winState=!1,playerFirst,userWon,computerWon,noneWon;$("#startModal").modal(modalOptions),$("#sideX").click(function(){userMark="X",computerMark="O",playerFirst=$("#startModalFirst").is(":checked"),$("input").prop("checked",!1),playerFirst===!1&&firstMove(startingMove),$("#startModal").modal("hide")}),$("#sideO").click(function(){userMark="O",computerMark="X",playerFirst=$("#startModalFirst").is(":checked"),$("input").prop("checked",!1),playerFirst===!1&&firstMove(startingMove),$("#startModal").modal("hide")}),$square.click(function(){$square.css("pointer-events","none"),$(this).text(userMark);var a=$(this).attr("id");userMoves.push(a),unavailableMoves.push(a);var b=availableMoves.indexOf(a);if(availableMoves.splice(b,1),userWinCheck(),winState===!1){if(computerWinTake(),moveMade===!1&&computerMoveBlock(),moveMade===!1&&"5"===startingMove&&playerFirst===!1){if(1===userMoves.length)switch(userMoves[0]){case"1":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"2":$("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7");break;case"3":$("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7");break;case"4":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"6":$("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7");break;case"7":$("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3");break;case"8":$("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3");break;case"9":$("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1")}2===userMoves.length&&("1"===computerMoves[1]&&"2"===userMoves[1]?($("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7")):"1"===computerMoves[1]&&"4"===userMoves[1]?($("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3")):"3"===computerMoves[1]&&"2"===userMoves[1]?($("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9")):"3"===computerMoves[1]&&"6"===userMoves[1]?($("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1")):"7"===computerMoves[1]&&"4"===userMoves[1]?($("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9")):"7"===computerMoves[1]&&"8"===userMoves[1]?($("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1")):"9"===computerMoves[1]&&"6"===userMoves[1]?($("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7")):"9"===computerMoves[1]&&"8"===userMoves[1]&&($("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3")))}if(moveMade===!1&&"7"===startingMove&&playerFirst===!1){if(1===userMoves.length)switch(userMoves[0]){case"1":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"2":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"3":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"4":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"5":$("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3");break;case"6":$("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9");break;case"8":$("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1");break;case"9":$("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1")}2===userMoves.length&&("9"!==computerMoves[1]||"1"!==userMoves[0]&&"4"!==userMoves[0]?"9"!==computerMoves[1]||"3"!==userMoves[0]&&"6"!==userMoves[0]?"1"!==computerMoves[1]||"8"!==userMoves[0]&&"9"!==userMoves[0]||($("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3")):($("#1").text(computerMark),moveMade=!0,computerMoveUpdate("1")):($("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3")))}moveMade===!1&&playerFirst===!0&&(1===userMoves.length&&("5"===userMoves[0]?($("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7")):($("#5").text(computerMark),moveMade=!0,computerMoveUpdate("5"))),2===userMoves.length&&("7"===userMoves[0]&&"3"===userMoves[1]||"9"===userMoves[0]&&"1"===userMoves[1]||"3"===userMoves[0]&&"7"===userMoves[1]||"1"===userMoves[0]&&"9"===userMoves[1]?($("#2").text(computerMark),moveMade=!0,computerMoveUpdate("2")):("6"!==userMoves[0]&&"8"!==userMoves[0]||"8"!==userMoves[1]&&"6"!==userMoves[1])&&("6"!==userMoves[0]&&"1"!==userMoves[0]||"1"!==userMoves[1]&&"6"!==userMoves[1])?"8"===userMoves[0]&&"3"===userMoves[1]||"6"===userMoves[0]&&"7"===userMoves[1]?($("#9").text(computerMark),moveMade=!0,computerMoveUpdate("9")):"8"===userMoves[0]&&"1"===userMoves[1]&&($("#7").text(computerMark),moveMade=!0,computerMoveUpdate("7")):($("#3").text(computerMark),moveMade=!0,computerMoveUpdate("3")))),moveMade===!1&&($("#"+availableMoves[0]).text(computerMark),moveMade=!0,computerMoveUpdate(availableMoves[0])),computerWinCheck(),moveMade=!1}$square.css("pointer-events","auto");for(var c=0;c<unavailableMoves.length;c++)$("#"+unavailableMoves[c]).css("pointer-events","none")}),$(".playAgain").click(function(){winState=!1,startingMove=Math.random()<.5?"5":"7",$square.text(""),$square.css("pointer-events","auto"),availableMoves=["1","2","3","4","5","6","7","8","9"],unavailableMoves=[],computerMoves=[],userMoves=[],computerWon===!0?playerFirst=$("#computerWinFirst").is(":checked"):noneWon===!0?playerFirst=$("#tieFirst").is(":checked"):userWon===!0&&(playerFirst=$("#userWinFirst").is(":checked")),$("input").prop("checked",!1),computerWon=!1,noneWon=!1,userWon=!1,playerFirst===!1&&firstMove(startingMove),$("#userWinModal, #computerWinModal, #tieModal").modal("hide")});