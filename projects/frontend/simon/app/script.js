function randomChoice(){var a=Math.random();return a*=choices.length,choices[Math.floor(a)]}function playPattern(){var a=0;patternTimer=setInterval(function(){lightUp(pattern[a]),a===pattern.length-1&&($(".segment").css("pointer-events","auto"),clearInterval(patternTimer)),a++},600)}function newStep(){power===!0&&(pattern.push(randomChoice()),pattern.length>20?(win.play(),$(".countDisplay").text("WIN"),pattern=[],setTimeout(newStep,5e3)):($(".countDisplay").text(pattern.length),playPattern()))}function lightUp(a){"green"===a?(soundGreen.play(),$("."+a).addClass("greenBright")):"red"===a?(soundRed.play(),$("."+a).addClass("redBright")):"yellow"===a?(soundYellow.play(),$("."+a).addClass("yellowBright")):"blue"===a&&(soundBlue.play(),$("."+a).addClass("blueBright")),setTimeout(function(){$("."+a).removeClass("greenBright redBright yellowBright blueBright")},300)}function wrongInput(a){user=[],j=0,wrong.play(),"green"===a?$("."+a).addClass("greenBright"):"red"===a?$("."+a).addClass("redBright"):"yellow"===a?$("."+a).addClass("yellowBright"):"blue"===a&&$("."+a).addClass("blueBright"),setTimeout(function(){$("."+a).removeClass("greenBright redBright yellowBright blueBright")},300)}var power=!1,strict=!1,choices=["green","red","yellow","blue"],pattern=[],user=[],j=0,patternTimer,soundGreen=new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),soundRed=new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),soundYellow=new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),soundBlue=new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3"),wrong=new Audio("http://soundbible.com/grab.php?id=1495&type=mp3"),win=new Audio("http://soundbible.com/grab.php?id=2103&type=mp3"),click=new Audio("http://soundbible.com/grab.php?id=772&type=mp3");$("#powerSwitchWrap").click(function(){power===!1?(power=!0,click.play(),$("#powerSwitch").css("float","right"),$(".countDisplay").css("color","#ff3030")):(clearInterval(patternTimer),power=!1,click.play(),$("#powerSwitch").css("float","left"),$(".countDisplay").css("color","#801515").text("--"),strict=!1,$("#strictLED").css("background-color","#000").css("box-shadow","none"),$(".segment").css("pointer-events","none"))}),$(".startBtn").click(function(){power===!0&&(clearInterval(patternTimer),$("segment").css("pointer-events","auto"),pattern=[],user=[],newStep())}),$(".segment").click(function(){power===!0&&($(this).hasClass("green")?(user.push("green"),user[j]===pattern[j]?(lightUp("green"),j===pattern.length-1?(user=[],j=0,$(".segment").css("pointer-events","none"),newStep()):j++):strict===!0?($(".segment").css("pointer-events","none"),wrongInput("green"),pattern=[],newStep()):($(".segment").css("pointer-events","none"),wrongInput("green"),playPattern())):$(this).hasClass("red")?(user.push("red"),user[j]===pattern[j]?(lightUp("red"),j===pattern.length-1?(user=[],j=0,$(".segment").css("pointer-events","none"),newStep()):j++):strict===!0?($(".segment").css("pointer-events","none"),wrongInput("red"),pattern=[],newStep()):($(".segment").css("pointer-events","none"),wrongInput("red"),playPattern())):$(this).hasClass("yellow")?(user.push("yellow"),user[j]===pattern[j]?(lightUp("yellow"),j===pattern.length-1?(user=[],j=0,$(".segment").css("pointer-events","none"),newStep()):j++):strict===!0?($(".segment").css("pointer-events","none"),wrongInput("yellow"),pattern=[],newStep()):($(".segment").css("pointer-events","none"),wrongInput("yellow"),playPattern())):$(this).hasClass("blue")&&(user.push("blue"),user[j]===pattern[j]?(lightUp("blue"),j===pattern.length-1?(user=[],j=0,$(".segment").css("pointer-events","none"),newStep()):j++):strict===!0?($(".segment").css("pointer-events","none"),wrongInput("blue"),pattern=[],newStep()):($(".segment").css("pointer-events","none"),wrongInput("blue"),playPattern())))}),$(".strictBtn").click(function(){strict===!1&&power===!0?(strict=!0,$("#strictLED").css("background-color","red"),$("#strictLED").css("box-shadow","0px 0px 10px 1px rgba(255,0,0,1)")):strict===!0&&power===!0&&(strict=!1,$("#strictLED").css("background-color","#000"),$("#strictLED").css("box-shadow","none"))});